var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=createAnimatedSwitchNavigator;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf3=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _core=require("@react-navigation/core");var _reactNativeReanimated=require("react-native-reanimated");var _jsxFileName="/Users/brentvatne/coding/animated-switch/src/index.tsx";var DEFAULT_TRANSITION=React.createElement(_reactNativeReanimated.Transition.Together,{__source:{fileName:_jsxFileName,lineNumber:24}},React.createElement(_reactNativeReanimated.Transition.Out,{type:"fade",durationMs:200,interpolation:"easeIn",__source:{fileName:_jsxFileName,lineNumber:25}}),React.createElement(_reactNativeReanimated.Transition.In,{type:"fade",durationMs:200,__source:{fileName:_jsxFileName,lineNumber:26}}));var AnimatedSwitchView=function(_React$Component){(0,_inherits2.default)(AnimatedSwitchView,_React$Component);function AnimatedSwitchView(){var _getPrototypeOf2;var _this;(0,_classCallCheck2.default)(this,AnimatedSwitchView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=(0,_possibleConstructorReturn2.default)(this,(_getPrototypeOf2=(0,_getPrototypeOf3.default)(AnimatedSwitchView)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.containerRef=React.createRef();return _this;}(0,_createClass2.default)(AnimatedSwitchView,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var prevState=prevProps.navigation.state;var prevActiveKey=prevState.routes[prevState.index].key;var state=this.props.navigation.state;var activeKey=state.routes[state.index].key;if(activeKey!==prevActiveKey&&this.containerRef.current){this.containerRef.current.animateNextTransition();}}},{key:"render",value:function render(){var _this$props$navigatio=this.props.navigation,state=_this$props$navigatio.state,navigationConfig=_this$props$navigatio.navigationConfig;var activeKey=state.routes[state.index].key;var descriptor=this.props.descriptors[activeKey];var ChildComponent=descriptor.getComponent();var transition=navigationConfig&&navigationConfig.transition||DEFAULT_TRANSITION;var transitionViewStyle=navigationConfig&&navigationConfig.transition;return React.createElement(_reactNativeReanimated.Transitioning.View,{ref:this.containerRef,transition:transition,style:[styles.container,transitionViewStyle],__source:{fileName:_jsxFileName,lineNumber:63}},React.createElement(_core.SceneView,{component:ChildComponent,navigation:descriptor.navigation,screenProps:this.props.screenProps,__source:{fileName:_jsxFileName,lineNumber:68}}));}}]);return AnimatedSwitchView;}(React.Component);function createAnimatedSwitchNavigator(routeConfigMap,switchConfig){var router=(0,_core.SwitchRouter)(routeConfigMap,switchConfig);var Navigator=(0,_core.createNavigator)(AnimatedSwitchView,router,switchConfig);return Navigator;}var styles=_reactNative.StyleSheet.create({container:{flex:1}});
//# sourceMappingURL=index.js.map